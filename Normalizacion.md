EJ5) 

EE1) COMIENZO
ACEPTAR DATOS_INTERNACION

SI DATOS_INTERNACION.NRO_ID = VACIO() ENTONCES 

CREAR ANIMALES CON 
CALCULAR ULT COMO ULTIMO NRO_ID EN ANIMALES
    nro_id = ult + 1
    nombre_animal = DATOS_INTERNACION.nro_animal
    especie = datos_internacion.especie
    raza = datos_internacion.raza
    sexo = datos_internacion.sexo
    fecha_nac = datos_internacion.fecha_nac
    dni = datos_internacion.dni
    apellido_res = datos_internacion.apellido_res
    nombre_resp = datos_internacion.nombre_resp
    domicilio = datos_internacion.domicilio
    tel = datos_internacion.tel
    estado_animal = "activo"
FIN CREAR 

CREAR INTERNACIONES CON 
CALCULAR ULT COMO ULTIMO nro_id EN INTERNACIONES 
    nro_id = ult + 1
    fecha_internacion = datos_internacion.fecha_internacion
    diagnostico = datos_internacion.diagnostico
    estado_internacion = "activa"
FIN CREAR

DE OTRO MODO 

CREAR INTERNACIONES CON 
    nro_id = datos_internacion.nro_id
    fecha_internacion = datos_internacion.fecha_internacion
    diagnostico = datos_internacion.diagnostico
    estado_internacion = "activa"
FIN CREAR

FIN SI 
FIN

EE2) COMIENZO
ACEPTAR DATOS_INTERVENCION 
    PARA CADA INTERVENCION EN INTERVENCIONES HACER        
        CREAR INTERVENCIONES CON 
        nro_id = datos_intervencion.nro_id
        fecha_internacion = datos_interVENCION.fecha_internacion
        fh_intervencion = INTERVENCION.fh_intervencion
        tipo_intervencion = intervencion.tipo_intervencion
        evolucion = intervencion.evolucion
        descripcion = intervencion.descripcion
        FIN CREAR
    FIN PARA CADA
FIN

EE3)
COMIENZO
    ACEPTAR DATOS_ALTA
    ACTUALIzar iNTERNACIONES CON FECHA_ALTA = HOY() Y ESTADO_INTERNACION = "CERRADA" DONDE NRO_ID = DATOS_ALTA.NRO_ID Y FECHA_INTERNACION = DATOS_ALTA.FECHA_INTERNACION
FIN 

EE4) 
COMIENZO 
    ACEPTAR DATOS_FALLECIMIENTO
    ACTUALIZAR INTERNACIONES DONDE NRO_ID = DATOS_FALLECIMIENTO.NRO_ID CON FECHA_FALLECE = HOY(), OBSERVACION = DATOS_FALLECIMIENTO.OBSERVACION, ESTADO_INTERNACION = FALLECIDO
    ACTUALIZAR ANIMALES DONDE NRO_ID = DATOS_FALLECIMIENTO.NRO_ID CON ESTADO_ANIMAL = BAJA
FIN

EE5) 
COMIENZO 
    ACEPTAR SOL_INF_INTERVENCIONES
    EMITIR INFORME_INTERVENCIONES CON 
        CALCULAR ULT_FECHA COMO ULTIMA FECHA_INTERNACION EN INTERNACIONES DONDE NRO_ID = SOL_INF_INTERVENCIONES.NRO_ID
        PARA CADA INTERVENCION EN INTERVENCIONES DONDE NRO_ID = SOL_INF_INTERVENCIONES.NRO_ID Y FECHA_INTERNACION = ULT_FECHA HACER
            FH_INTERVENCION = INTERVENCION.FH_INTERVENCION
            TIPO_INTERVENCION = INTERVENCION.TIPO_INTERVENCION
            EVOLUCION = INTERVENCION.EVOLUCION
            DESCRIPCION = INTERVENCION.DESCRIPCION
        FIN PARA CADA
    FIN EMITIR
FIN

EE6)
COMIENZO 
    ACEPTAR SOL_RESUMEN 
        EMITIR INFORME_RESUMEN CON 
            CALCULAR CANT_INTERNACIONES COMO CANTIDAD DE OCURRENCIAS EN INTERNACIONES DONDE FECHA_INTERNACION >= SOL_RESUMEN.F_DESDE Y FECHA_INTERNACION <= SOL_RESUMEN.F_HASTA
            
            CALCULAR CANT_ALTAS COMO CANTIDAD DE OCURRENCIAS EN INTERNACIONES DONDE FH_INTERNACION >= SOL_RESUMEN.F_DESDE Y FH_INTERNACION <= SOL_RESUMEN.F_HASTA Y ESTADO_INTERNACION = "CERRADA"

            CALCULAR CANT_FALL COMO CANTIDAD DE OCURRENCIAS EN INTERNACIONES DONDE FH_INTERNACION >= SOL_RESUMEN.F_DESDE Y FH_INTERNACION <= SOL_RESUMEN.F_HASTA Y ESTADO_INTERNACION = "FALLECIDO"
        FIN EMITIR 
FIN 

ET1)
COMIENZO 
    ACEPTAR DIARIAMENTE 
        EMITIR INFORME_INTERNACIONES CON 
            PARA CADA INTERNACION EN INTERNACIONES DONDE ESTADO_INTERNACION = "ACTIVA" HACER
                NRO_ID = INTERNACION.NRO_ID
                BUSCAR ANIMAL EN ANIMALES DONDE NRO_ID = INTERNACION.NRO_ID
                NOMBRE = ANIMAL.NRO_ID 
                DIAGNOSTICO = INTERNACION.DIAGNOSTICO
                CALCULAR ULT_FECHA COMO ULTIMA FH_INTERVENCION EN INTERVENCIONES DONDE NRO_ID = INTERNACION.NRO_ID Y FH_INTERNACION = INTERNACION.FH_INTERNACION
                FH_UTL_INTERVENCION = ULT_FECHA
            FIN PARA CADA 
        FIN EMITIR
FIN 

EJ6)

EE1) 
COMIENZO 
    ACEPTAR DATOS_ELEMENTO  
        CALCULAR ULT COMO ULTIMO NRO_INV EN ELEMENTOS
        CREAR ELEMENTOS CON 
            NRO_INV = ULT + 1
            TIPO = DATOS_ELEMENTO.TIPO
            MARCA = DATOS_ELEMENTO.MARCA
            MODELO = DATOS_ELEMENTO.MODELO
            MEDIDA = DATOS_ELEMENTO.MEDIDA
            ESPECIFICACIONES = DATOS_ELEMENTO.ESPECIFICACIONES
            FECHA_AD = DATOS_ELEMENTO.FECHA_AD
            COD_PROV = DATOS_ELEMENTO.COD_PROV
            DESCRIPCION = DATOS_ELEMENTO.DESCRIPCION 
            UBICACION = DATOS_ELEMENTO.UBICACION
            ESTADO_USO = DISPONIBLE
        FIN CREAR

        EMITIR ETIQUETA CON
            NRO_INV = ULT 
        FIN EMITIR
FIN 

EE2) 
COMIENZO 
    ACEPTAR DATOS_PERSTAMOS
    BUSCAR ELEMENTO EN ELEMENTOS DONDE NRO_INV = DATOS_PRESTAMOS.NRO_INV
    SI ELEMENTO.ESTADO = "DISPONIBLE" ENTONCES
        ACTUALIZAR ELEMENTOS CON ESTADO = "EN USO" DONDE NRO_INV = DATOS_PRESTAMOS.NRO_INV 
        CREAR PRESTAMOS CON 
            LEGAJO_SOL = DATOS_PRESTAMOS.LEGAJO_SOL 
            NRO_INV = DATOS_PRESTAMOS.NRO_INV 
            FH_PRES = AHORA()
            LEGAJO_ENTREGA = DATOS_PRESTAMOS.LEGAJO_ENTREGA 
            MOTIVO = DATOS_PRESTAMOS.MOTIVO
            LUGAR_USO = DATOS_PRESTAMOS.LUGAR_USO
            FH_ESTIMADA_DEV = DATOS_PRESTAMOS.FH_ESTIMADA_DEV
        FIN CREAR
    DE OTRO MODO
        EMITIR MENSAJE CON "EL ELEMENTO NO SE ENCUENTRA DISPONIBLE"
    FIN SI
FIN 

EE3) 
COMIENZO 
    ACEPTAR DATOS_DEVOLUCION
    SI DATOS_DEVOLUCION.ESTADO_DEV = "CORRECTO" ENTONCES
        ACTUALIZAR ELEMENTOS CON ESTADO = "DISPONIBLE" DONDE NRO_INV = DATOS_DEVOLUCION.NRO_INV
    DE OTRO MODO 
        ACTUALIZAR ELEMENTOS CON ESTADO = "A REPARAR" DONDE NRO_INV = DATOS_DEVOLUCION.NRO_INV 
    FIN SI 
    ACTUALIZAR PRESTAMOS CON FH_DEV = DATOS_DEVOLUCION.FH_DEV, ESTADO_DEV = DATOS_DEVOLUCION.ESTADO_DEV, OBS_DEV = DATOS_DEVOLUCION.OBS_DEV DONDE NRO_INV = DATOS_DEVOLUCION.NRO_INV Y FH_DEV = VACIA
FIN 

EE4) 
COMIENZO 
ACEPTAR DATOS_REVISION
    CREAR REVISIONES CON 
        NRO_INV = DATOS_REVISION.NRO_INV
        FH_REVISION = "" ""  
        SITUACION = "" ""
        OBS_REV = "" ""
    FIN CREAR 

    SI DATOS_REVISION.SITUACION = "REPARADO/TRATADO" ENTONCES
        ACTUALIZAR ELEMENTOS CON 
            ESTADO_USO = DISPONIBLE
        DONDE NRO_INV = DATOS_REVISION.NRO_INV
    DE OTRO MODO
        ACTUALIZAR ELEMENTOS CON 
            ESTADO_USO = "NO DISPONIBLE"
        DONDE NRO_INV = DATOS_REVISION.NRO_INV
    FIN SI
FIN 


EE5) 
COMIENZO 
ACEPTAR DATOS_CONS
BUSCAR ELEMENTO EN ELEMENTOS DONDE DESCRIPCION = DATOS_CONS.DESCRIPCION 
SI ELEMENTO EXISTE ENTONCES
EMITIR INFORME_ELEMENTOS CON 
	PARA CADA ELEMENTO EN ELEMENTOS HACER 
		NRO_INV = ELEMENTO.NRO_INV
		TIPO_ELEMENTO = "" "" 
		MARCA = "" "" 
		MODELO = "" "" 
		MEDIDA = "" ""
		ESP_TECNICAS = "" "" 
		FECHA_ADQ = "" ""
		COD_PROV = "" "" 
		DESCRIPCION = "" "" 
		UBICACION = "" ""
		ESTADO = "" ""
	FIN PARA CADA
DE OTRO MODO 
	EMITIR MENSAJE CON "ELEMENTO NO ENCONTRADO"
FIN SI 
FIN  

EE6)
COMIENZO
ACEPTAR DATOS_CONS_HISTORIAL
BUSCAR ELEMENTO EN ELEMENTOS DONDE NRO_INV = DATOS_CONS_HISTORIOAL.NRO_INV
SI ELEMENTO EXISTE ENTONCES
EMITIR INFORME_HISTORIAL CON
	NRO_INV = ELEMENTO.NRO_INV
	TIPO = ELEMENTO.TIPO
	MARCA = ELEMENTO.MARCA
	MODELO = ELEMENTO.MODELO
	MEDIDA = ELEMENTO.MEDIDA
	ESP_TECNICAS = ELEMENTO.
	FECHA_ADQ =
	COD_PROV = 
	DESCRIPCION = 
	UBICACION =
	ESTADO = 
	PARA CADA PRESTAMO EN PRESTAMOS HACER
		LEGAJO_SOL = PRESTAMO.LEGAJO_SOL
		FH_PRES = PRESTAMO.FH_PRES
		LEGAJO_ENTREGA = PRESTAMO.LEGAJO_ENTREGA
		MOTIVO = PRESTAMO.MOTIVO
		LUGAR_USO = PRESTAMO. LUGAR_USO
		FH_ESTIMADA_DEV = PRESTAMO.FH_ESTIMADA_DEV
		FH_DEV = PRESTAMO.FH_DEV
		ESTADO_DEV = PRESTAMO.ESTADO_DEV
		OBS_DEV = PRESTAMO.OBS_DEV
	FIN PARA CADA
	PARA CADA REVISION EN REVISIONES HACER
		FH_REVISION = REVISION.FH_REVISION
		SITUACION = REVISION_SITUACION
		OBS_REV = REVISON.OBS_REV
	FIN PARA CADA
FIN EMITIR
FIN

ET1) 
COMIENZO 
ACEPTAR DIARIAMENTE
EMITIR INFORME_AVMAN CON 
    PARA CADA ELEMENTO EN ELEMENTOS DONDE ESTADO_USO = "A REPARAR" HACER
        NRO_INV = ELEMENTO.NRO_INV
        UBICACION = "" "" 
        CALCULAR FH_PRES_ULT COMO ULTIMO FH_PRES EN PRESTAMOS DONDE NRO_INV = ELEMENTO.NRO_INV 
        BUSCAR PRESTAMO EN PRESTAMOS DONDE FH_PRES = FH_PRES_ULT Y NRO_INV = ELEMENTO.NRO_INV 
        LEGAJO_ULT_OPERARIO = PRESTAMO.LEGAJO_SOL
        BUSCAR EMPLEADO EN EMPLEADOS DONDE LEGAJO = LEGAJO_ULT_OPERARIO
        APELLIDO = EMPLEADO.NOMBRE
        NOMBRE = "" ""
        ESTADO_ULT_DEV = "" ""
        OBS_DEV = "" ""
    FIN PARA CADA
FIN EMITIR
FIN 

ET2) 
COMIENZO 
ACEPTAR DIARIAMENTE
EMITIR INFORME ADEUDADOS CON 
    PARA CADA PRESTAMO EN PRESTAMOS DONDE ESTADO = "EN USO" Y FH_DEV = VACIO HACER 
            LEGAJO_SOL = PRESTAMO.LEGAJO_SOL
            NRO_INV = "" ""
            FH_PRES = "" ""
            LEGAJO_ENTREGA = "" ""
            MOTIVO = "" ""
            LUGAR_USO = "" ""
            FH_ESTIMADA_DEV = "" ""
            BUSCAR ELEMENTO EN ELEMENTOS DONDE NRO_INV = PRESTAMO.NRO_INV
            TIPO = ELEMENTO.TIPO
            MARCA = ELEMENTO.MARCA
            MODELO = ELEMENTO.MODELO
    FIN PARA CADA
FIN EMITIR
FIN 

EJ4) 

EE1) 
COMIENZO 
ACEPTAR DATOS_VIAJE 


BUSCAR LOCALIDAD EN LOCALIDADES DONDE CODLOCORIGEN = CODLOC
SI LOCALIDAD = EXISTE ENTONCES

    BUSCAR LOC EN LOCALIDADES DONDE CODLOCDESTINO = CODLOC
    SI LOC = EXISTE ENTONCES
        
        CREAR VIAJES CON 
            COD_VIAJE = DATOS_VIAJE.COD_VIAJE
            FH_SALIDA = "" ""
            FH_ARRIBO = "" ""
            N_COLECTIVO = "" ""
            LEGAJO = "" ""
            CODLOCORIGEN = "" "" 
            CODLOCDESTINO = "" ""
            N_PLATAFORMA = "" ""
            PRECIO = "" ""
        FIN CREAR
DE OTRO MODO
    EMITIR MENSAJE CON "LA LOCALIDAD NO SE ENCUENTRA REGISTRADA"
FIN SI
FIN 

EE2) 
COMIENZO 
DATOS_CONSULTA_VIAJE 
    EMITIR LISTADO_VIAJES CON 
        PARA CADA VIAJE EN VIAJES DONDE DATOS_CONSULTA_VIAJE.CODLOC = VIAJE.CODLOCDESTINO HACER 
            COD_VIAJE = VIAJE.COD_VIAJE 
            FH_SALIDA = "" "" 
            FH_ARRIBO = "" ""
            PRECIO = "" ""
            BUSCAR COL EN COLECTIVOS DONDE INTERNO = VIAJE.N_COLECTIVO
            PARA CADA ASIENTO EN COL HACER
                BUSCAR BOLETO EN BOLETOS DONDE COD_VIAJE = VIAJE.COD_VIAJE Y ESTADO = "VIGENTE" Y NRO_ASIENTO = ASIENTO.NRO_ASIENTO ENTONCES
                    SI BOLETO NO EXISTE ENTONCES 
                        NRO_ASIENTO = ASIENTO.NRO_ASIENTO
                        UBICACION = ASIENTO.UBICACION
                    FIN SI 
        FIN PARA CADA
    FIN EMITIR 
FIN 
            
    










































































